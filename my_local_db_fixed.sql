--
-- PostgreSQL database dump
--

-- Dumped from database version 17.5
-- Dumped by pg_dump version 17.5

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: activity_logs; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.activity_logs (
    id bigint NOT NULL,
    action_type character varying(255) NOT NULL,
    actor_full_name character varying(255) NOT NULL,
    entity_id bigint NOT NULL,
    entity_name character varying(255) NOT NULL,
    entity_type character varying(255) NOT NULL,
    "timestamp" timestamp(6) without time zone NOT NULL,
    actor_id bigint NOT NULL,
    project_id bigint NOT NULL,
    CONSTRAINT activity_logs_action_type_check CHECK (((action_type)::text = ANY ((ARRAY['REQUEST_ACCEPTANCE'::character varying, 'ACCEPTED_ACCEPTANCE'::character varying, 'REJECTED_ACCEPTANCE'::character varying, 'PROJECT_UPDATED'::character varying, 'STAGE_UPDATED'::character varying, 'STAGE_DELETED'::character varying, 'FILE_ADDED'::character varying, 'FILE_DELETED'::character varying])::text[]))),
    CONSTRAINT activity_logs_entity_type_check CHECK (((entity_type)::text = ANY ((ARRAY['PROJECT'::character varying, 'STAGE'::character varying, 'FILE'::character varying, 'LICENSE'::character varying])::text[])))
);


ALTER TABLE public.activity_logs OWNER TO postgres;

--
-- Name: activity_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.activity_logs ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.activity_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: chat_message_mentions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.chat_message_mentions (
    message_id bigint NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.chat_message_mentions OWNER TO postgres;

--
-- Name: chat_messages; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.chat_messages (
    id bigint NOT NULL,
    acknowledgement_status character varying(255),
    content text,
    coordination_status character varying(255),
    message_type character varying(255) NOT NULL,
    meta_data text,
    "timestamp" timestamp(6) without time zone NOT NULL,
    attached_file_id bigint,
    conversation_id bigint NOT NULL,
    related_message_id bigint,
    sender_id bigint NOT NULL,
    CONSTRAINT chat_messages_acknowledgement_status_check CHECK (((acknowledgement_status)::text = ANY ((ARRAY['PENDING'::character varying, 'ACKNOWLEDGED'::character varying])::text[]))),
    CONSTRAINT chat_messages_coordination_status_check CHECK (((coordination_status)::text = ANY ((ARRAY['PENDING'::character varying, 'APPROVED'::character varying, 'REJECTED'::character varying])::text[]))),
    CONSTRAINT chat_messages_message_type_check CHECK (((message_type)::text = ANY ((ARRAY['TEXT'::character varying, 'ATTACHMENT'::character varying, 'MENTION'::character varying, 'COORDINATION_REQUEST'::character varying, 'ACKNOWLEDGEMENT_REQUEST'::character varying, 'COORDINATION_RESPONSE'::character varying, 'ACKNOWLEDGEMENT_RESPONSE'::character varying, 'SYSTEM_ACTION'::character varying])::text[])))
);


ALTER TABLE public.chat_messages OWNER TO postgres;

--
-- Name: chat_messages_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.chat_messages ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.chat_messages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: cities; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.cities (
    id bigint NOT NULL,
    name character varying(255) NOT NULL
);


ALTER TABLE public.cities OWNER TO postgres;

--
-- Name: cities_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.cities ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.cities_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: comment; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.comment (
    id bigint NOT NULL,
    author character varying(255),
    text character varying(255),
    "timestamp" timestamp(6) without time zone,
    document_id integer
);


ALTER TABLE public.comment OWNER TO postgres;

--
-- Name: comment_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.comment ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.comment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: conversation_participants; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.conversation_participants (
    conversation_id bigint NOT NULL,
    participant_id bigint NOT NULL
);


ALTER TABLE public.conversation_participants OWNER TO postgres;

--
-- Name: conversations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.conversations (
    id bigint NOT NULL,
    last_message_timestamp timestamp(6) without time zone,
    name character varying(255),
    type character varying(255) NOT NULL,
    project_id bigint,
    CONSTRAINT conversations_type_check CHECK (((type)::text = ANY ((ARRAY['PROJECT_CHAT'::character varying, 'PRIVATE_CHAT'::character varying])::text[])))
);


ALTER TABLE public.conversations OWNER TO postgres;

--
-- Name: conversations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.conversations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.conversations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: document_have_to_sign; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.document_have_to_sign (
    document_id integer NOT NULL,
    participant_id bigint NOT NULL
);


ALTER TABLE public.document_have_to_sign OWNER TO postgres;

--
-- Name: document_signed; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.document_signed (
    document_id integer NOT NULL,
    participant_id bigint NOT NULL
);


ALTER TABLE public.document_signed OWNER TO postgres;

--
-- Name: documents; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.documents (
    id bigint NOT NULL,
    project_id bigint,
    file_path character varying(255),
    name character varying(255),
    status character varying(255),
    upload_date timestamp(6) without time zone,
    CONSTRAINT documents_status_check CHECK (((status)::text = ANY ((ARRAY['WAITING'::character varying, 'CREATION'::character varying, 'APPROVAL'::character varying, 'SIGNATURE'::character varying, 'REGISTRATION'::character varying, 'IN_PROGRESS'::character varying, 'COMPLETED'::character varying])::text[])))
);


ALTER TABLE public.documents OWNER TO postgres;

--
-- Name: documents_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.documents ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.documents_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: email_verification; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.email_verification (
    id bigint NOT NULL,
    code character varying(255),
    email character varying(255),
    expiration_time timestamp(6) without time zone
);


ALTER TABLE public.email_verification OWNER TO postgres;

--
-- Name: email_verification_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.email_verification ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.email_verification_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: estimate_item; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.estimate_item (
    id bigint NOT NULL,
    name character varying(255),
    quantity real NOT NULL,
    unit character varying(255),
    unit_price real NOT NULL,
    estimate_id integer
);


ALTER TABLE public.estimate_item OWNER TO postgres;

--
-- Name: estimate_item_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.estimate_item ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.estimate_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: estimates; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.estimates (
    overheads_amount real NOT NULL,
    reserve_amount real NOT NULL,
    transport_amount real NOT NULL,
    id integer NOT NULL
);


ALTER TABLE public.estimates OWNER TO postgres;

--
-- Name: files; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.files (
    id bigint NOT NULL,
    project_id bigint,
    created_at timestamp(6) without time zone,
    filepath character varying(255),
    name character varying(255),
    size bigint,
    user_id bigint,
    schedule_id bigint,
    task_id bigint,
    document_id integer,
    organisation_id bigint,
    file_type character varying(31) DEFAULT 'FILE'::character varying NOT NULL
);


ALTER TABLE public.files OWNER TO postgres;

--
-- Name: files_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.files ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.files_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: licenses; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.licenses (
    license_category_display character varying(255),
    review_status character varying(255),
    id bigint NOT NULL,
    organisation_id bigint,
    rejection_reason character varying(500),
    CONSTRAINT licenses_review_status_check CHECK (((review_status)::text = ANY ((ARRAY['PENDING_REVIEW'::character varying, 'APPROVED'::character varying, 'REJECTED'::character varying])::text[])))
);


ALTER TABLE public.licenses OWNER TO postgres;

--
-- Name: notifications; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.notifications (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    is_read boolean NOT NULL,
    message character varying(255) NOT NULL,
    related_entity_id bigint,
    type character varying(255) NOT NULL,
    project_id bigint,
    recipient_id bigint NOT NULL,
    sender_id bigint,
    CONSTRAINT notifications_type_check CHECK (((type)::text = ANY ((ARRAY['INVITATION'::character varying, 'PROJECT_UPDATE'::character varying, 'FILE_UPLOAD'::character varying, 'TASK_ASSIGNMENT'::character varying, 'MENTION'::character varying, 'STAGE_REACTIVATION'::character varying, 'LICENSE_APPROVED'::character varying, 'LICENSE_REJECTED'::character varying])::text[])))
);


ALTER TABLE public.notifications OWNER TO postgres;

--
-- Name: notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.notifications ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.notifications_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: organisation_specializations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.organisation_specializations (
    organisation_id bigint NOT NULL,
    specialization character varying(255),
    CONSTRAINT organisation_specializations_specialization_check CHECK (((specialization)::text = ANY ((ARRAY['EARTHWORKS'::character varying, 'FOUNDATION_WORKS'::character varying, 'ROOFING_WORKS'::character varying, 'DEMOLITION_WORKS'::character varying, 'TURNKEY_COTTAGE_AND_VILLA_CONSTRUCTION'::character varying, 'ELECTRICAL_INSTALLATION'::character varying, 'PLUMBING_AND_SEWERAGE'::character varying, 'VENTILATION_AND_AIR_CONDITIONING'::character varying, 'PLASTERING_AND_PAINTING_WORKS'::character varying, 'TILE_LAYING'::character varying, 'LAMINATE_AND_PARQUET_LAYING'::character varying, 'INTERIOR_FINISHING_WORKS'::character varying, 'HIGH_QUALITY_FINE_FINISHING'::character varying, 'HEATING_SYSTEM_INSTALLATION'::character varying, 'LOW_CURRENT_SYSTEMS_INSTALLATION'::character varying, 'FIRE_SAFETY_SYSTEM_INSTALLATION'::character varying, 'WATERPROOFING_WORKS'::character varying, 'INSTALLATION_OF_WINDOWS_DOORS_AND_PARTITIONS'::character varying, 'LANDSCAPING_AND_GREENING_OF_THE_TERRITORY'::character varying, 'ASPHALTING_OF_ROADS_AND_TERRITORIES'::character varying, 'INSTALLATION_OF_CURBS_AND_ROAD_BARRIERS'::character varying])::text[])))
);


ALTER TABLE public.organisation_specializations OWNER TO postgres;

--
-- Name: organisations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.organisations (
    field character varying(255),
    jud_address character varying(255),
    organization character varying(255),
    "position" character varying(255),
    specialization character varying(255),
    type character varying(255),
    years_of_experience bigint,
    id bigint NOT NULL,
    status character varying(255),
    CONSTRAINT organisations_specialization_check CHECK (((specialization)::text = ANY ((ARRAY['EARTHWORKS'::character varying, 'FOUNDATION_WORKS'::character varying, 'ROOFING_WORKS'::character varying, 'DEMOLITION_WORKS'::character varying, 'TURNKEY_COTTAGE_AND_VILLA_CONSTRUCTION'::character varying, 'ELECTRICAL_INSTALLATION'::character varying, 'PLUMBING_AND_SEWERAGE'::character varying, 'VENTILATION_AND_AIR_CONDITIONING'::character varying, 'PLASTERING_AND_PAINTING_WORKS'::character varying, 'TILE_LAYING'::character varying, 'LAMINATE_AND_PARQUET_LAYING'::character varying, 'INTERIOR_FINISHING_WORKS'::character varying, 'HIGH_QUALITY_FINE_FINISHING'::character varying, 'HEATING_SYSTEM_INSTALLATION'::character varying, 'LOW_CURRENT_SYSTEMS_INSTALLATION'::character varying, 'FIRE_SAFETY_SYSTEM_INSTALLATION'::character varying, 'WATERPROOFING_WORKS'::character varying, 'INSTALLATION_OF_WINDOWS_DOORS_AND_PARTITIONS'::character varying, 'LANDSCAPING_AND_GREENING_OF_THE_TERRITORY'::character varying, 'ASPHALTING_OF_ROADS_AND_TERRITORIES'::character varying, 'INSTALLATION_OF_CURBS_AND_ROAD_BARRIERS'::character varying])::text[]))),
    CONSTRAINT organisations_status_check CHECK (((status)::text = ANY ((ARRAY['AVAILABLE'::character varying, 'BUSY'::character varying])::text[]))),
    CONSTRAINT organisations_type_check CHECK (((type)::text = ANY ((ARRAY['CUSTOMER'::character varying, 'CONTRACTOR'::character varying, 'AUTHOR_SUPERVISON'::character varying, 'TECHNICAL_SUPERVISON'::character varying, 'SUPPLIER'::character varying])::text[])))
);


ALTER TABLE public.organisations OWNER TO postgres;

--
-- Name: participant_invitations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.participant_invitations (
    id bigint NOT NULL,
    accepted boolean NOT NULL,
    can_send_notifications boolean NOT NULL,
    can_upload_documents boolean NOT NULL,
    created_at timestamp(6) without time zone,
    expires_at timestamp(6) without time zone,
    role character varying(255),
    project_id bigint,
    user_id bigint,
    sender_id bigint
);


ALTER TABLE public.participant_invitations OWNER TO postgres;

--
-- Name: participant_invitations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.participant_invitations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.participant_invitations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: participants; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.participants (
    id bigint NOT NULL,
    can_send_notifications boolean NOT NULL,
    can_upload_documents boolean NOT NULL,
    role character varying(255),
    project_id bigint,
    user_id bigint
);


ALTER TABLE public.participants OWNER TO postgres;

--
-- Name: participants_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.participants ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.participants_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: phone_verification; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.phone_verification (
    id bigint NOT NULL,
    code character varying(255),
    expiration_time timestamp(6) without time zone,
    phone character varying(255)
);


ALTER TABLE public.phone_verification OWNER TO postgres;

--
-- Name: phone_verification_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.phone_verification ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.phone_verification_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: project_notes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.project_notes (
    id bigint NOT NULL,
    content text NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    author_id bigint NOT NULL,
    project_id bigint NOT NULL
);


ALTER TABLE public.project_notes OWNER TO postgres;

--
-- Name: project_notes_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.project_notes ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.project_notes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: projects; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.projects (
    id bigint NOT NULL,
    description character varying(255),
    end_date date,
    name character varying(255),
    start_date date,
    status character varying(255),
    type character varying(255),
    city_id bigint,
    user_id bigint,
    CONSTRAINT projects_status_check CHECK (((status)::text = ANY ((ARRAY['DRAFT'::character varying, 'WAITING'::character varying, 'ACTIVE'::character varying, 'ON_PAUSE'::character varying, 'COMPLETED'::character varying, 'CANCELLED'::character varying])::text[])))
);


ALTER TABLE public.projects OWNER TO postgres;

--
-- Name: projects_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.projects ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.projects_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: requirements; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.requirements (
    id bigint NOT NULL,
    description character varying(255) NOT NULL,
    sample_file_id bigint,
    task_id bigint NOT NULL
);


ALTER TABLE public.requirements OWNER TO postgres;

--
-- Name: requirements_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.requirements ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.requirements_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: schedules; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.schedules (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone,
    name character varying(255),
    project_id bigint
);


ALTER TABLE public.schedules OWNER TO postgres;

--
-- Name: schedules_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.schedules ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.schedules_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: stages; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.stages (
    id bigint NOT NULL,
    contractors character varying(255),
    description character varying(255),
    end_date date,
    name character varying(255),
    resources character varying(255),
    start_date date,
    status character varying(255),
    schedule_id bigint,
    CONSTRAINT stages_status_check CHECK (((status)::text = ANY ((ARRAY['WAITING'::character varying, 'ACTIVE'::character varying, 'ON_PAUSE'::character varying, 'COMPLETED'::character varying])::text[])))
);


ALTER TABLE public.stages OWNER TO postgres;

--
-- Name: stages_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.stages ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.stages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: task_dependencies; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.task_dependencies (
    task_id bigint NOT NULL,
    depends_on_task_id bigint NOT NULL
);


ALTER TABLE public.task_dependencies OWNER TO postgres;

--
-- Name: task_responsible_persons; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.task_responsible_persons (
    task_id bigint NOT NULL,
    participant_id bigint NOT NULL
);


ALTER TABLE public.task_responsible_persons OWNER TO postgres;

--
-- Name: tasks; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tasks (
    id bigint NOT NULL,
    description character varying(255),
    end_date date,
    executed boolean NOT NULL,
    execution_requested boolean NOT NULL,
    info character varying(255),
    is_priority boolean NOT NULL,
    name character varying(255),
    start_date date,
    participant_id bigint,
    stage_id bigint
);


ALTER TABLE public.tasks OWNER TO postgres;

--
-- Name: tasks_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tasks ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tasks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id bigint NOT NULL,
    email character varying(255) NOT NULL,
    full_name character varying(255),
    iin_bin character varying(255),
    organization character varying(255),
    password character varying(255),
    phone character varying(255),
    city_id bigint,
    user_type character varying(31) DEFAULT 'USER'::character varying NOT NULL,
    role character varying(255) DEFAULT 'USER'::character varying NOT NULL
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: activity_logs; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.activity_logs (id, action_type, actor_full_name, entity_id, entity_name, entity_type, "timestamp", actor_id, project_id) FROM stdin;
3	FILE_ADDED	ТОО 'Строительные Технологии'	50	image.png	FILE	2025-08-01 20:55:16.576935	17	18
4	FILE_ADDED	ТОО 'Строительные Технологии'	71	UserFlow.png	FILE	2025-08-04 20:26:34.49736	17	18
5	PROJECT_UPDATED	ТОО 'Строительные Технологии'	18	Обновленное имя	PROJECT	2025-08-04 21:07:32.626056	17	18
14	REQUEST_ACCEPTANCE	Test User	41	Новая Задача 3	PROJECT	2025-08-11 17:43:07.323131	13	18
15	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:43:15.820332	17	18
16	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:45:53.552224	17	18
17	REQUEST_ACCEPTANCE	Test User	41	Новая Задача 3	PROJECT	2025-08-11 17:46:09.895672	13	18
18	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:48:41.582731	17	18
19	REQUEST_ACCEPTANCE	Test User	41	Новая Задача 3	PROJECT	2025-08-11 17:48:51.332922	13	18
20	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:48:55.448115	17	18
21	REQUEST_ACCEPTANCE	Test User	41	Новая Задача 3	PROJECT	2025-08-11 17:50:23.002414	13	18
22	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:50:35.107993	17	18
23	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:50:36.283573	17	18
24	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:50:36.720018	17	18
25	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:50:37.227951	17	18
26	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:50:37.658741	17	18
27	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:50:37.89311	17	18
28	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:50:38.089463	17	18
29	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:50:38.297343	17	18
30	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 17:50:38.935217	17	18
31	REQUEST_ACCEPTANCE	Test User	41	Новая Задача 3	PROJECT	2025-08-11 17:51:29.959668	13	18
32	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 18:34:04.959145	17	18
33	REQUEST_ACCEPTANCE	Test User	41	Новая Задача 3	PROJECT	2025-08-11 18:34:09.498554	13	18
34	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 18:34:16.720424	17	18
35	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 18:34:19.501518	17	18
36	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 18:34:23.180347	17	18
37	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 18:34:44.353657	17	18
38	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 18:35:00.598309	17	18
39	REQUEST_ACCEPTANCE	Test User	41	Новая Задача 3	PROJECT	2025-08-11 18:39:16.124623	13	18
40	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 18:39:27.023764	17	18
41	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 18:39:30.974905	17	18
42	REQUEST_ACCEPTANCE	Test User	41	Новая Задача 3	PROJECT	2025-08-11 18:42:34.788041	13	18
43	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 18:42:39.107811	17	18
44	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 18:42:43.084945	17	18
45	REQUEST_ACCEPTANCE	Test User	41	Новая Задача 3	PROJECT	2025-08-11 18:42:48.218617	13	18
46	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-11 18:42:53.174921	17	18
50	REQUEST_ACCEPTANCE	Test User	41	Новая Задача 3	PROJECT	2025-08-19 14:35:25.154546	13	18
51	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-19 14:35:33.205582	17	18
52	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-19 14:35:35.639995	17	18
53	REQUEST_ACCEPTANCE	Test User	41	Новая Задача 3	PROJECT	2025-08-19 15:07:52.918881	13	18
54	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-19 15:08:01.313549	17	18
55	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	41	Новая Задача 3	PROJECT	2025-08-19 15:08:11.575813	17	18
56	PROJECT_UPDATED	ТОО 'Строительные Технологии'	18	Обновленное имя	PROJECT	2025-08-19 15:09:08.082891	17	18
57	FILE_ADDED	ТОО 'Строительные Технологии'	91	UserFlow (4) (1).png	PROJECT	2025-08-19 15:09:53.423552	17	18
58	PROJECT_UPDATED	ТОО 'Строительные Технологии'	18	Обновленное имя	PROJECT	2025-08-25 18:48:27.515207	17	18
59	FILE_ADDED	ТОО 'Строительные Технологии'	93	UserFlow (4) (2).png	PROJECT	2025-08-25 18:49:01.054903	17	18
60	REQUEST_ACCEPTANCE	Test User3	42	test3	PROJECT	2025-09-09 15:21:03.232078	13	18
61	REQUEST_ACCEPTANCE	Test User3	50	test3	PROJECT	2025-09-09 15:21:07.498072	13	18
62	REQUEST_ACCEPTANCE	Test User3	40	Новая Задача 2	PROJECT	2025-09-09 15:21:10.436598	13	18
63	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	40	Новая Задача 2	PROJECT	2025-09-09 15:21:27.729123	17	18
64	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	42	test3	PROJECT	2025-09-09 15:21:28.880285	17	18
65	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	50	test3	PROJECT	2025-09-09 15:21:38.036954	17	18
66	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	42	test3	PROJECT	2025-09-09 15:21:45.515671	17	18
67	REJECTED_ACCEPTANCE	ТОО 'Строительные Технологии'	50	test3	PROJECT	2025-09-09 15:21:55.089185	17	18
68	FILE_ADDED	ТОО 'Строительные Технологии'	94	UserFlow (1).png	PROJECT	2025-09-28 21:29:31.888369	17	18
69	FILE_ADDED	ТОО 'Строительные Технологии'	95	UserFlow (5).png	PROJECT	2025-09-28 21:29:52.880046	17	18
70	FILE_ADDED	ТОО 'Строительные Технологии'	96	Договор.png	PROJECT	2025-09-28 21:30:33.259007	17	18
71	REQUEST_ACCEPTANCE	Test User3	54	test	PROJECT	2025-10-05 15:47:56.975008	13	18
72	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	54	test	PROJECT	2025-10-05 15:48:28.329834	17	18
73	REQUEST_ACCEPTANCE	Test User3	56	test3	PROJECT	2025-10-05 15:49:11.117676	13	18
74	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	56	test3	PROJECT	2025-10-05 15:49:23.715334	17	18
75	REQUEST_ACCEPTANCE	Test User3	55	test2	PROJECT	2025-10-05 15:50:43.66826	13	18
76	ACCEPTED_ACCEPTANCE	ТОО 'Строительные Технологии'	55	test2	PROJECT	2025-10-05 15:50:54.682571	17	18
83	REQUEST_ACCEPTANCE	Ilyas	60	test	PROJECT	2026-01-24 14:39:40.960785	13	18
98	REJECTED_ACCEPTANCE	Гедатсу Зор	60	test	PROJECT	2026-01-24 15:42:25.130683	17	18
99	REQUEST_ACCEPTANCE	Ilyas	60	test	PROJECT	2026-01-24 15:42:30.971697	13	18
100	REJECTED_ACCEPTANCE	Гедатсу Зор	60	test	PROJECT	2026-01-24 15:42:33.917664	17	18
101	REQUEST_ACCEPTANCE	Ilyas	60	test	PROJECT	2026-01-24 15:42:51.656566	13	18
102	ACCEPTED_ACCEPTANCE	Гедатсу Зор	60	test	PROJECT	2026-01-24 15:42:55.386339	17	18
103	FILE_ADDED	Гедатсу Зор	103	ClassDiagramITM (1).png	PROJECT	2026-02-01 19:12:57.596637	17	23
104	FILE_ADDED	Гедатсу Зор	104	ClassDiagramITM (1).png	PROJECT	2026-02-01 19:20:16.032986	17	23
105	PROJECT_UPDATED	admin	18	Обновленное имя	PROJECT	2026-02-02 20:30:24.188221	18	18
106	FILE_ADDED	Гедатсу Зор	114	ClassDiagramITM (1) (1).png	PROJECT	2026-02-04 14:16:47.188756	17	23
\.


--
-- Data for Name: chat_message_mentions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.chat_message_mentions (message_id, user_id) FROM stdin;
45	13
46	17
47	17
48	13
49	13
50	17
51	17
52	13
\.


--
-- Data for Name: chat_messages; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.chat_messages (id, acknowledgement_status, content, coordination_status, message_type, meta_data, "timestamp", attached_file_id, conversation_id, related_message_id, sender_id) FROM stdin;
4	\N	тест	\N	TEXT	\N	2026-01-25 12:54:22.139044	\N	3	\N	17
5	\N	что	\N	TEXT	\N	2026-01-25 12:55:01.583842	\N	2	\N	13
6	\N	тест	\N	TEXT	\N	2026-01-25 12:55:09.452838	\N	3	\N	13
7	\N	че	\N	TEXT	\N	2026-01-25 12:56:00.673761	\N	4	\N	17
8	\N		\N	TEXT	\N	2026-01-25 13:23:58.345594	101	5	\N	17
9	\N	проверка 	PENDING	COORDINATION_REQUEST	\N	2026-01-25 13:24:23.280006	\N	5	\N	17
10	PENDING	п	\N	ACKNOWLEDGEMENT_REQUEST	\N	2026-01-25 13:24:35.876536	\N	5	\N	17
11	\N	@Ilyas 	\N	TEXT	\N	2026-01-25 13:50:17.631059	\N	5	\N	17
12	\N	@Ilyas 	\N	TEXT	\N	2026-01-25 13:50:30.341931	\N	5	\N	17
13	PENDING	тест	\N	ACKNOWLEDGEMENT_REQUEST	\N	2026-01-25 13:52:36.534198	102	5	\N	17
14	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "13"}	2026-01-25 14:05:47.589207	\N	5	13	17
15	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "10"}	2026-01-25 14:05:53.026814	\N	5	10	13
16	\N	@Ilyas 	\N	TEXT	\N	2026-01-25 14:07:53.55807	\N	5	\N	17
17	\N	@Ilyas 	\N	TEXT	\N	2026-01-25 14:08:02.65013	\N	5	\N	17
18	\N	@Гедатсу Зор 	\N	TEXT	\N	2026-01-25 14:08:07.920296	\N	5	\N	17
19	PENDING	тест	\N	ACKNOWLEDGEMENT_REQUEST	\N	2026-01-25 14:16:18.225789	\N	5	\N	17
20	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "19"}	2026-01-25 14:16:23.693473	\N	5	19	13
21	PENDING	не	\N	ACKNOWLEDGEMENT_REQUEST	\N	2026-01-25 14:16:49.586496	\N	5	\N	17
22	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "21"}	2026-01-25 14:16:51.241662	\N	5	21	17
23	\N	@Ilyas 	\N	TEXT	\N	2026-01-25 14:16:59.937649	\N	5	\N	17
24	\N	@Ilyas 	\N	TEXT	\N	2026-01-25 14:17:15.514076	\N	5	\N	17
25	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "21"}	2026-01-25 14:24:07.398616	\N	5	21	17
26	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "21"}	2026-01-25 14:24:08.069432	\N	5	21	17
27	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "21"}	2026-01-25 14:24:22.680537	\N	5	21	13
28	\N	@Ilyas 	\N	TEXT	\N	2026-01-25 14:24:35.08936	\N	5	\N	17
29	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "13"}	2026-01-25 14:26:03.361448	\N	5	13	17
30	\N	@Гедатсу Зор 	\N	TEXT	\N	2026-01-25 14:27:25.440882	\N	5	\N	17
31	\N	@Ilyas 	\N	TEXT	\N	2026-01-25 14:42:43.367787	\N	5	\N	17
32	\N	@Ilyas 	\N	TEXT	\N	2026-01-25 14:43:00.474468	\N	5	\N	17
33	PENDING	д	\N	ACKNOWLEDGEMENT_REQUEST	\N	2026-01-25 14:43:09.33971	\N	5	\N	17
34	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "33"}	2026-01-25 14:43:14.640678	\N	5	33	13
35	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "13"}	2026-01-25 14:43:18.63948	\N	5	13	13
36	\N	@Гедатсу Зор 	\N	TEXT	\N	2026-01-25 14:43:43.048222	\N	5	\N	13
37	PENDING	р	\N	ACKNOWLEDGEMENT_REQUEST	\N	2026-01-25 14:44:37.199473	\N	5	\N	17
38	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "37"}	2026-01-25 14:44:41.244457	\N	5	37	13
39	PENDING	о	\N	ACKNOWLEDGEMENT_REQUEST	\N	2026-01-25 14:52:02.665626	\N	5	\N	17
40	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId": "39"}	2026-01-25 14:52:08.431637	\N	5	39	13
41	PENDING	ы	\N	ACKNOWLEDGEMENT_REQUEST	\N	2026-01-25 15:26:07.795864	\N	5	\N	17
42	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId":"41"}	2026-01-25 15:26:15.28851	\N	5	41	13
43	PENDING	ж	\N	ACKNOWLEDGEMENT_REQUEST	\N	2026-01-25 15:26:45.852518	\N	5	\N	17
44	ACKNOWLEDGED	Ознакомлен	\N	ACKNOWLEDGEMENT_RESPONSE	{"parentMessageId":"43"}	2026-01-25 15:26:54.28224	\N	5	43	13
45	\N	@Ilyas 	\N	TEXT	\N	2026-01-28 13:32:50.276163	\N	5	\N	17
46	\N	@Гедатсу Зор 	\N	TEXT	\N	2026-01-28 13:35:20.042477	\N	5	\N	13
47	\N	@Гедатсу Зор 	\N	TEXT	\N	2026-01-28 13:35:33.875953	\N	5	\N	13
48	\N	@Ilyas 	\N	TEXT	\N	2026-01-28 13:48:02.526103	\N	3	\N	17
49	\N	@Ilyas 	\N	TEXT	\N	2026-01-28 13:48:31.926159	\N	3	\N	17
50	\N	@Гедатсу Зор 	\N	TEXT	\N	2026-01-28 14:57:43.077503	\N	3	\N	13
51	\N	@Гедатсу Зор 	\N	TEXT	\N	2026-01-28 17:03:35.795158	\N	3	\N	13
52	\N	@Ilyas 	\N	TEXT	\N	2026-02-02 21:05:49.074447	\N	3	\N	17
53	PENDING		\N	ACKNOWLEDGEMENT_REQUEST	\N	2026-02-02 21:05:57.039248	113	3	\N	17
\.


--
-- Data for Name: cities; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.cities (id, name) FROM stdin;
4	Karaganda / Караганда
5	Aktobe / Актобе
6	Taraz / Тараз
7	Pavlodar / Павлодар
8	Ust-Kamenogorsk / Өскемен
9	Semey / Семей
10	Kostanay / Костанай
11	Kyzylorda / Қызылорда
12	Atyrau / Атырау
13	Petropavl / Петропавл
14	Oral / Орал
15	Temirtau / Теміртау
16	Taldykorgan / Талдықорған
17	Ekibastuz / Екібастұз
18	Rudny / Рудный
19	Zhanaozen / Жаңаөзен
20	Kokshetau / Көкшетау
21	Turkistan / Түркістан
22	Balqash / Балқаш
23	Zhezkazgan / Жезқазған
24	Aqtau / Ақтау
25	Aksu / Ақсу
26	Stepnogorsk / Степногорск
27	Kentau / Кентау
28	Zyryanovsk / Зыряновск
29	Saran / Сарань
30	Abay / Абай
31	Shakhtinsk / Шахтинск
32	Satpayev / Сәтбаев
33	Ayagoz / Аягөз
34	Ridder / Риддер
35	Aralsk / Арал
36	Zaisan / Зайсан
37	Makinsk / Макинск
38	Zhanatas / Жаңатас
39	Tobol / Тобыл
40	Lenger / Ленгер
41	Shardara / Шардара
42	Aksay / Аксай
43	Atbasar / Атбасар
44	Esik / Есік
45	Karakol / Қарақол
46	Shelek / Шелек
47	Shieli / Шиелі
48	Kurchatov / Курчатов
49	Zharkent / Жаркент
50	Shalkar / Шалқар
1	Almaty / Алматы
2	Astana / Астана
3	Shymkent / Шымкент
\.


--
-- Data for Name: comment; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.comment (id, author, text, "timestamp", document_id) FROM stdin;
\.


--
-- Data for Name: conversation_participants; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.conversation_participants (conversation_id, participant_id) FROM stdin;
2	10
2	13
4	17
4	18
5	13
5	17
\.


--
-- Data for Name: conversations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.conversations (id, last_message_timestamp, name, type, project_id) FROM stdin;
2	2026-01-25 12:55:01.583842	Test User & Test User	PRIVATE_CHAT	\N
4	2026-01-25 12:56:00.673761	Гедатсу Зор & admin	PRIVATE_CHAT	\N
5	2026-01-28 13:35:33.875953	Ilyas & Гедатсу Зор	PRIVATE_CHAT	\N
8	2026-02-01 20:13:33.606848	Чат проекта: test	PROJECT_CHAT	23
3	2026-02-02 21:05:57.039248	Чат проекта: Обновленное имя	PROJECT_CHAT	18
\.


--
-- Data for Name: document_have_to_sign; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.document_have_to_sign (document_id, participant_id) FROM stdin;
\.


--
-- Data for Name: document_signed; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.document_signed (document_id, participant_id) FROM stdin;
\.


--
-- Data for Name: documents; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.documents (id, project_id, file_path, name, status, upload_date) FROM stdin;
1	\N	uploads/doc1.pdf	Документ №1	WAITING	2025-06-29 19:17:42.81
\.


--
-- Data for Name: email_verification; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.email_verification (id, code, email, expiration_time) FROM stdin;
57	958042	gkey2014@gmail.com	2025-08-19 12:18:10.901896
92	423483	baiangali1234421@gmail.com	2026-02-02 12:28:50.752945
\.


--
-- Data for Name: estimate_item; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.estimate_item (id, name, quantity, unit, unit_price, estimate_id) FROM stdin;
\.


--
-- Data for Name: estimates; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.estimates (overheads_amount, reserve_amount, transport_amount, id) FROM stdin;
\.


--
-- Data for Name: files; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.files (id, project_id, created_at, filepath, name, size, user_id, schedule_id, task_id, document_id, organisation_id, file_type) FROM stdin;
97	\N	2025-10-05 16:28:52.579201	uploads\\temp_1759663732572_96f9e1e7-8160-4531-afca-a18a6daa94a7.png	Договор (2).png	430122	17	\N	60	\N	\N	FILE
98	\N	2025-10-05 16:30:22.872721	uploads\\temp_1759663822872_2748aef2-379b-48f0-b3e6-2b64cc3d86ad.png	Договор (2) (1).png	430122	17	\N	\N	\N	\N	FILE
99	\N	2025-10-29 18:33:45.605094	uploads\\temp_1761744825589_326f8295-e5f0-44ab-8f1e-9d2b500a9133.png	2012.png	136583	17	\N	\N	\N	\N	FILE
101	\N	2026-01-25 13:23:58.338048	uploads\\temp_1769329438331_fd8ad4be-916a-4fb3-9058-426b9dafd272.png	ERD_IMAGE.png	52507	17	\N	\N	\N	\N	FILE
102	\N	2026-01-25 13:52:36.533599	uploads\\temp_1769331156532_340e88d7-c2be-4e71-b1b5-ce80f4c80c6e.png	ClassDiagramITM.png	59860	17	\N	\N	\N	\N	FILE
105	\N	2026-02-01 19:48:53.219489	uploads\\temp_1769957333218_3600708e-4733-446e-9b61-e524041c6689.torrent	[DL] Resident Evil 4 [P] [RUS + ENG + 11 RUS + ENG + 7] (2023, Horror) (Build 11025382 + 25 DLC) [P2P] [rutracker-6370216] (1).torrent	229726	17	\N	\N	\N	\N	FILE
96	18	2025-09-28 21:30:33.259007	uploads\\temp_1759077033251_b627add1-d9d2-412e-85a6-2bc20c341281.png	Договор.png	430122	17	\N	\N	\N	\N	FILE
106	\N	2026-02-01 20:36:43.924464	uploads\\temp_1769960203920_ed677f1f-30a1-495f-bee2-9be57f65258e.png	ClassDiagramITM (1) (1).png	59860	17	\N	\N	\N	\N	FILE
107	\N	2026-02-02 12:35:20.301078	uploads\\temp_1770017720293_9e814f98-a595-4a75-bf5a-3d0328139c15.png	ClassDiagramITM (1) (1).png	59860	\N	\N	\N	\N	\N	FILE
109	\N	2026-02-02 20:01:00.191114	uploads\\temp_1770044460185_ca90bbfc-1ba8-4d44-995a-0a0207033b60.png	ClassDiagramITM (1).png	59860	\N	\N	\N	\N	\N	FILE
111	\N	2026-02-02 20:17:42.915896	uploads\\temp_1770045462908_22599bfc-353f-42d4-a470-d62ca7bfb1b7.png	ClassDiagramITM (1).png	59860	39	\N	\N	\N	\N	FILE
112	\N	2026-02-02 20:17:42.916811	uploads\\temp_1770045462908_22599bfc-353f-42d4-a470-d62ca7bfb1b7.png	ClassDiagramITM (1).png	59860	39	\N	\N	\N	\N	LICENSE
113	\N	2026-02-02 21:05:57.034889	uploads\\temp_1770048357025_66113965-3133-426a-a9ee-34164a77496b.png	ClassDiagramITM (1) (1).png	59860	17	\N	\N	\N	\N	FILE
115	\N	2026-02-04 14:21:00.683341	uploads\\temp_1770196860682_9815951a-08fa-4197-afa4-55d5501fe0da.png	ClassDiagramITM (1) (1) (2).png	59860	17	\N	\N	\N	\N	FILE
100	\N	2025-10-29 18:33:45.615168	uploads\\temp_1770196860682_9815951a-08fa-4197-afa4-55d5501fe0da.png	Обновленная лицензия на строительство	59860	17	\N	\N	\N	\N	LICENSE
\.


--
-- Data for Name: licenses; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.licenses (license_category_display, review_status, id, organisation_id, rejection_reason) FROM stdin;
Лицензия	APPROVED	112	39	\N
ГСЛ 1,2,3 категор	APPROVED	100	17	\N
\.


--
-- Data for Name: notifications; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.notifications (id, created_at, is_read, message, related_entity_id, type, project_id, recipient_id, sender_id) FROM stdin;
33	2026-01-28 16:18:01.096281	t	Этап '2-этап' возвращен в актив. Причина: Тестовая причина: Обнаружены неточности в расчетах.	19	STAGE_REACTIVATION	18	13	17
34	2026-01-28 16:44:50.562669	t	Этап '2-этап' возвращен в актив. Причина: Тест	19	STAGE_REACTIVATION	18	13	17
45	2026-02-02 20:49:35.760474	t	Ваша лицензия "ClassDiagramITM (1).png" была одобрена администратором	112	LICENSE_APPROVED	\N	39	\N
47	2026-02-04 14:23:28.68935	t	Ваша лицензия "Обновленная лицензия на строительство" была одобрена администратором	100	LICENSE_APPROVED	\N	17	\N
46	2026-02-02 21:05:49.070092	t	Гедатсу Зор отметил вас в чате: Чат проекта: Обновленное имя	3	MENTION	\N	13	17
\.


--
-- Data for Name: organisation_specializations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.organisation_specializations (organisation_id, specialization) FROM stdin;
36	ROOFING_WORKS
36	PLASTERING_AND_PAINTING_WORKS
36	FOUNDATION_WORKS
39	INSTALLATION_OF_CURBS_AND_ROAD_BARRIERS
39	TURNKEY_COTTAGE_AND_VILLA_CONSTRUCTION
39	PLASTERING_AND_PAINTING_WORKS
39	DEMOLITION_WORKS
17	EARTHWORKS
17	TILE_LAYING
\.


--
-- Data for Name: organisations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.organisations (field, jud_address, organization, "position", specialization, type, years_of_experience, id, status) FROM stdin;
Гражданское строительство	г. Алматы, пр. Абая 15	ТОО "СтройПлюс"	Главный инженер	\N	CONTRACTOR	10	36	\N
Строительство	г. Алматы, ул. Абая, 100	ТОО 'Строительные Технологии'	Исполнительный директор	EARTHWORKS	CONTRACTOR	20	17	\N
dr	syfa	\N	dre	\N	CUSTOMER	3	39	AVAILABLE
\.


--
-- Data for Name: participant_invitations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.participant_invitations (id, accepted, can_send_notifications, can_upload_documents, created_at, expires_at, role, project_id, user_id, sender_id) FROM stdin;
30	f	t	f	2025-08-19 15:09:21.369038	2025-08-22 15:09:21.369038	Подрядчик	18	10	\N
\.


--
-- Data for Name: participants; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.participants (id, can_send_notifications, can_upload_documents, role, project_id, user_id) FROM stdin;
19	t	t	Подрядчик	18	13
\.


--
-- Data for Name: phone_verification; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.phone_verification (id, code, expiration_time, phone) FROM stdin;
1	962268	2025-06-15 19:08:53.543332	+77011230000
5	605086	2025-06-15 19:54:34.398571	+77011230001
15	605382	2025-06-30 19:50:39.939304	+77475590168
\.


--
-- Data for Name: project_notes; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.project_notes (id, content, created_at, author_id, project_id) FROM stdin;
1	тест	2026-01-28 15:38:08.279339	17	18
2	тест2	2026-01-28 15:38:20.336299	17	18
3	тест3	2026-01-28 15:38:34.36189	13	18
5	тест	2026-02-04 16:22:50.000803	17	23
6	тест	2026-02-04 16:23:17.597183	13	18
\.


--
-- Data for Name: projects; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.projects (id, description, end_date, name, start_date, status, type, city_id, user_id) FROM stdin;
23	test	2026-02-28	test	2026-02-03	DRAFT	test	22	17
18	Новое описание	2025-09-15	Обновленное имя	2025-07-15	ACTIVE	Реконструкция	23	17
\.


--
-- Data for Name: requirements; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.requirements (id, description, sample_file_id, task_id) FROM stdin;
48	test	\N	43
55	sdad	98	60
56	ts	105	63
59	gs	\N	66
60	ы	106	67
\.


--
-- Data for Name: schedules; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.schedules (id, created_at, name, project_id) FROM stdin;
17	2025-08-01 20:56:26.999477	Название	18
21	2026-02-01 19:12:33.761762	ГПР	23
\.


--
-- Data for Name: stages; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.stages (id, contractors, description, end_date, name, resources, start_date, status, schedule_id) FROM stdin;
18	\N	Заливка бетона	2025-08-31	1-этап	\N	2025-08-20	ACTIVE	17
34	\N	2	2026-02-28	1-этап	\N	2026-02-13	ACTIVE	21
35	\N	t	2026-02-28	t	\N	2026-02-07	WAITING	21
22	ТОО СтройСервис	Работы по расчистке и подготовкe	2025-07-15	3-этап	\N	2025-07-01	COMPLETED	17
19	\N	sdasdsl	2025-08-29	2-этап	\N	2025-08-25	ACTIVE	17
\.


--
-- Data for Name: task_dependencies; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.task_dependencies (task_id, depends_on_task_id) FROM stdin;
61	60
62	61
62	60
\.


--
-- Data for Name: task_responsible_persons; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.task_responsible_persons (task_id, participant_id) FROM stdin;
60	19
\.


--
-- Data for Name: tasks; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tasks (id, description, end_date, executed, execution_requested, info, is_priority, name, start_date, participant_id, stage_id) FROM stdin;
58	test	2025-10-19	f	f		f	test3	2025-10-12	\N	19
59	test	2025-10-19	f	f		f	test2	2025-10-12	\N	19
61	еые	2025-10-22	f	f		t	test2	2025-10-12	\N	18
43	test	2025-08-31	f	f	\N	f	test	2025-08-15	\N	22
62	е	2025-10-17	f	f		f	test3	2025-10-05	\N	18
60	Описание задачи	2025-07-05	t	t	Доп. информация	t	Тестовая задача2	2025-07-01	\N	18
63	п	2026-02-08	f	f	\N	f	п	2026-02-22	\N	34
66	f	2026-02-28	f	f	\N	f	f	2026-02-15	\N	34
67	и	2026-02-18	f	f	\N	f	test	2026-02-22	\N	34
57	test	2025-10-16	f	f		f	test	2025-10-05	\N	19
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (id, email, full_name, iin_bin, organization, password, phone, city_id, user_type, role) FROM stdin;
24	updated.user@example.com	Обновленное Имя Пользователя	100000000000	\N	$2a$10$sXZ4QeiNKb6/kEEsbnbote8CYB5sTCXWzf4s9NqTbeQQX0C7QNwqa	77778889900	2	USER	USER
10	gkey2014@gmail.com	Test User2	111111111112	TestOrg	$2a$10$jOh.eg1BaocMKR5rUgc1XOGFsCvIPhRUV0ff9KSVb2QzXgQI5vShy	+77011230001	1	USER	USER
35	new.user@example.com	Новый Пользователь	100000000050	\N	$2a$10$4cxaoESuEz5M9NufZyyhuOJqg81Tz7DxhTz4yjHki1Fn7rKYKT0vi	77001112233	1	USER	USER
36	contractor.test@example.com	Алиев Арман Бахытович	990101456789	\N	$2a$10$nINwHP.kbe1wJw5J2/vcRu8qIN/8i0gmO/XYNOowU5.7/Rj6dzkQi	+77019876543	1	Organisation	USER
11	newemail1@example.com	Ilyas Sarsenbai	123456789012	SmartQurylys	$2a$10$vvxul8n9YEivw1De4Rutvu12mdIgUA5Fk7JAtKDEfXwirZEFuRgd6	+77011230003	1	USER	USER
13	i_sarsenbay@kbtu.kz	Ilyas	111111111198	TestOrg	$2a$10$X.04enEdh/IBXOZYnBPLgOqA7IXzTpwOCc7Xevg/Y/me2GI4m9W1S	+77011230023	49	USER	USER
12	ilyas23@example.com	test65	987654321098	NewOrg	$2a$10$cqTQxobK7ApR9.1.Gb2BL.3PbM0/MJtQScykjErw/kj6mUjjb68/S	+77000001122	50	USER	USER
18	admin@gmail.com	admin	111111111199	\N	$2a$10$rsK9RW5p2RY7uEje6UIv8uiZCp8GA8bCr2cykNAPdwi93HxhqpeCu	+77011230022	50	USER	ADMIN
39	baiangali12344321@gmail.com	fafa	123145153245	тест	$2a$10$J6OXXjRvnZw9ae5L1ArpBuCtNi1mxs0KMc/MN.aVrblarapxMF/lW	5142413212	\N	Organisation	USER
17	updated.email@example.com	Гедатсу Зор	123456789013	ТОО 'Строительные Технологии'	$2a$10$7GLmoWzjdoEAnoFK5QEt1uS316cC7AxIRRrLihku2NbeAStSo0QaO	77771234567	4	Organisation	ADMIN
\.


--
-- Name: activity_logs_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.activity_logs_id_seq', 106, true);


--
-- Name: chat_messages_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.chat_messages_id_seq', 53, true);


--
-- Name: cities_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.cities_id_seq', 50, true);


--
-- Name: comment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.comment_id_seq', 1, false);


--
-- Name: conversations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.conversations_id_seq', 8, true);


--
-- Name: documents_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.documents_id_seq', 6, true);


--
-- Name: email_verification_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.email_verification_id_seq', 96, true);


--
-- Name: estimate_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.estimate_item_id_seq', 4, true);


--
-- Name: files_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.files_id_seq', 115, true);


--
-- Name: notifications_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.notifications_id_seq', 47, true);


--
-- Name: participant_invitations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.participant_invitations_id_seq', 38, true);


--
-- Name: participants_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.participants_id_seq', 19, true);


--
-- Name: phone_verification_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.phone_verification_id_seq', 15, true);


--
-- Name: project_notes_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.project_notes_id_seq', 6, true);


--
-- Name: projects_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.projects_id_seq', 23, true);


--
-- Name: requirements_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.requirements_id_seq', 60, true);


--
-- Name: schedules_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.schedules_id_seq', 21, true);


--
-- Name: stages_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.stages_id_seq', 35, true);


--
-- Name: tasks_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tasks_id_seq', 67, true);


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_id_seq', 39, true);


--
-- Name: activity_logs activity_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.activity_logs
    ADD CONSTRAINT activity_logs_pkey PRIMARY KEY (id);


--
-- Name: chat_message_mentions chat_message_mentions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_message_mentions
    ADD CONSTRAINT chat_message_mentions_pkey PRIMARY KEY (message_id, user_id);


--
-- Name: chat_messages chat_messages_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_messages
    ADD CONSTRAINT chat_messages_pkey PRIMARY KEY (id);


--
-- Name: cities cities_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cities
    ADD CONSTRAINT cities_pkey PRIMARY KEY (id);


--
-- Name: comment comment_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comment
    ADD CONSTRAINT comment_pkey PRIMARY KEY (id);


--
-- Name: conversation_participants conversation_participants_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.conversation_participants
    ADD CONSTRAINT conversation_participants_pkey PRIMARY KEY (conversation_id, participant_id);


--
-- Name: conversations conversations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.conversations
    ADD CONSTRAINT conversations_pkey PRIMARY KEY (id);


--
-- Name: documents documents_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.documents
    ADD CONSTRAINT documents_pkey PRIMARY KEY (id);


--
-- Name: email_verification email_verification_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.email_verification
    ADD CONSTRAINT email_verification_pkey PRIMARY KEY (id);


--
-- Name: estimate_item estimate_item_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.estimate_item
    ADD CONSTRAINT estimate_item_pkey PRIMARY KEY (id);


--
-- Name: estimates estimates_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.estimates
    ADD CONSTRAINT estimates_pkey PRIMARY KEY (id);


--
-- Name: files files_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.files
    ADD CONSTRAINT files_pkey PRIMARY KEY (id);


--
-- Name: licenses licenses_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.licenses
    ADD CONSTRAINT licenses_pkey PRIMARY KEY (id);


--
-- Name: notifications notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifications
    ADD CONSTRAINT notifications_pkey PRIMARY KEY (id);


--
-- Name: organisations organisations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.organisations
    ADD CONSTRAINT organisations_pkey PRIMARY KEY (id);


--
-- Name: participant_invitations participant_invitations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.participant_invitations
    ADD CONSTRAINT participant_invitations_pkey PRIMARY KEY (id);


--
-- Name: participants participants_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.participants
    ADD CONSTRAINT participants_pkey PRIMARY KEY (id);


--
-- Name: phone_verification phone_verification_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.phone_verification
    ADD CONSTRAINT phone_verification_pkey PRIMARY KEY (id);


--
-- Name: project_notes project_notes_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.project_notes
    ADD CONSTRAINT project_notes_pkey PRIMARY KEY (id);


--
-- Name: projects projects_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.projects
    ADD CONSTRAINT projects_pkey PRIMARY KEY (id);


--
-- Name: requirements requirements_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.requirements
    ADD CONSTRAINT requirements_pkey PRIMARY KEY (id);


--
-- Name: schedules schedules_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.schedules
    ADD CONSTRAINT schedules_pkey PRIMARY KEY (id);


--
-- Name: stages stages_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.stages
    ADD CONSTRAINT stages_pkey PRIMARY KEY (id);


--
-- Name: task_responsible_persons task_responsible_persons_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task_responsible_persons
    ADD CONSTRAINT task_responsible_persons_pkey PRIMARY KEY (task_id, participant_id);


--
-- Name: tasks tasks_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tasks
    ADD CONSTRAINT tasks_pkey PRIMARY KEY (id);


--
-- Name: conversations uk3hanmagcowfim12fhpdnekj2u; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.conversations
    ADD CONSTRAINT uk3hanmagcowfim12fhpdnekj2u UNIQUE (project_id);


--
-- Name: requirements uk64y763kyjfolr8jdxh2dfsnib; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.requirements
    ADD CONSTRAINT uk64y763kyjfolr8jdxh2dfsnib UNIQUE (sample_file_id);


--
-- Name: users uk6dotkott2kjsp8vw4d0m25fb7; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT uk6dotkott2kjsp8vw4d0m25fb7 UNIQUE (email);


--
-- Name: chat_messages ukf8prmk3j2te6am731i3ovyblv; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_messages
    ADD CONSTRAINT ukf8prmk3j2te6am731i3ovyblv UNIQUE (attached_file_id);


--
-- Name: cities ukl61tawv0e2a93es77jkyvi7qa; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cities
    ADD CONSTRAINT ukl61tawv0e2a93es77jkyvi7qa UNIQUE (name);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: notifications fk13vcnq3ukas06ho1yrbc5lrb5; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifications
    ADD CONSTRAINT fk13vcnq3ukas06ho1yrbc5lrb5 FOREIGN KEY (sender_id) REFERENCES public.users(id);


--
-- Name: organisations fk15j6hofdkkld53acp882j7bk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.organisations
    ADD CONSTRAINT fk15j6hofdkkld53acp882j7bk FOREIGN KEY (id) REFERENCES public.users(id);


--
-- Name: document_signed fk33qlbdyxuoj4f28fqg92mbx3x; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.document_signed
    ADD CONSTRAINT fk33qlbdyxuoj4f28fqg92mbx3x FOREIGN KEY (document_id) REFERENCES public.documents(id);


--
-- Name: licenses fk35ryr6r5t0hnhxenshy5ftgud; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.licenses
    ADD CONSTRAINT fk35ryr6r5t0hnhxenshy5ftgud FOREIGN KEY (organisation_id) REFERENCES public.organisations(id);


--
-- Name: task_responsible_persons fk47vth4ge3n878xtp8c5o09d8; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task_responsible_persons
    ADD CONSTRAINT fk47vth4ge3n878xtp8c5o09d8 FOREIGN KEY (participant_id) REFERENCES public.participants(id);


--
-- Name: activity_logs fk5wnh8r1e5ffup2wu2shpwywak; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.activity_logs
    ADD CONSTRAINT fk5wnh8r1e5ffup2wu2shpwywak FOREIGN KEY (actor_id) REFERENCES public.users(id);


--
-- Name: document_signed fk67csugsq6j1q00lxmo2n15jr0; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.document_signed
    ADD CONSTRAINT fk67csugsq6j1q00lxmo2n15jr0 FOREIGN KEY (participant_id) REFERENCES public.participants(id);


--
-- Name: chat_message_mentions fk69wvs3u1hp5yydnchr3ms5s7d; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_message_mentions
    ADD CONSTRAINT fk69wvs3u1hp5yydnchr3ms5s7d FOREIGN KEY (message_id) REFERENCES public.chat_messages(id);


--
-- Name: notifications fk6fpt82588ru8v0imso3v8nan7; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifications
    ADD CONSTRAINT fk6fpt82588ru8v0imso3v8nan7 FOREIGN KEY (project_id) REFERENCES public.projects(id);


--
-- Name: schedules fk6mu7v3088u6koha8kolxocotn; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.schedules
    ADD CONSTRAINT fk6mu7v3088u6koha8kolxocotn FOREIGN KEY (project_id) REFERENCES public.projects(id);


--
-- Name: document_have_to_sign fk8455gauwxqvrwa3yiw6ql2xph; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.document_have_to_sign
    ADD CONSTRAINT fk8455gauwxqvrwa3yiw6ql2xph FOREIGN KEY (participant_id) REFERENCES public.participants(id);


--
-- Name: conversation_participants fk84npv3fo2vwl7ut63im0p417q; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.conversation_participants
    ADD CONSTRAINT fk84npv3fo2vwl7ut63im0p417q FOREIGN KEY (conversation_id) REFERENCES public.conversations(id);


--
-- Name: document_have_to_sign fk8c3dpnouxbd1sykt78vian5sv; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.document_have_to_sign
    ADD CONSTRAINT fk8c3dpnouxbd1sykt78vian5sv FOREIGN KEY (document_id) REFERENCES public.documents(id);


--
-- Name: activity_logs fkavkl7v9l6yfc9hhpaqi1q6f5u; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.activity_logs
    ADD CONSTRAINT fkavkl7v9l6yfc9hhpaqi1q6f5u FOREIGN KEY (project_id) REFERENCES public.projects(id);


--
-- Name: tasks fkaytv64txhqkthcbq8ir0q9al4; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tasks
    ADD CONSTRAINT fkaytv64txhqkthcbq8ir0q9al4 FOREIGN KEY (participant_id) REFERENCES public.participants(id);


--
-- Name: files fkbf6pb5mdsgg5if1g0d2yikpjb; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.files
    ADD CONSTRAINT fkbf6pb5mdsgg5if1g0d2yikpjb FOREIGN KEY (task_id) REFERENCES public.tasks(id);


--
-- Name: licenses fkbhimi6qwr85ro53ykqtl8wivx; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.licenses
    ADD CONSTRAINT fkbhimi6qwr85ro53ykqtl8wivx FOREIGN KEY (id) REFERENCES public.files(id);


--
-- Name: stages fkbxli2hdotaerpm717mn51p5x1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.stages
    ADD CONSTRAINT fkbxli2hdotaerpm717mn51p5x1 FOREIGN KEY (schedule_id) REFERENCES public.schedules(id);


--
-- Name: comment fkc2rdhymylr3j7xfv609wkgi8m; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comment
    ADD CONSTRAINT fkc2rdhymylr3j7xfv609wkgi8m FOREIGN KEY (document_id) REFERENCES public.documents(id);


--
-- Name: chat_messages fkc8ljv426x8fj9tcywei40stu9; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_messages
    ADD CONSTRAINT fkc8ljv426x8fj9tcywei40stu9 FOREIGN KEY (conversation_id) REFERENCES public.conversations(id);


--
-- Name: estimate_item fkd36bwdvcxbgusjor7gkl1xib9; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.estimate_item
    ADD CONSTRAINT fkd36bwdvcxbgusjor7gkl1xib9 FOREIGN KEY (estimate_id) REFERENCES public.estimates(id);


--
-- Name: files fkdgr5hx49828s5vhjo1s8q3wdp; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.files
    ADD CONSTRAINT fkdgr5hx49828s5vhjo1s8q3wdp FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: participant_invitations fkdtir0d1enid8a52t8ueg0iy2a; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.participant_invitations
    ADD CONSTRAINT fkdtir0d1enid8a52t8ueg0iy2a FOREIGN KEY (sender_id) REFERENCES public.users(id);


--
-- Name: participant_invitations fke4fci0fkobbi2ons1jderegpx; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.participant_invitations
    ADD CONSTRAINT fke4fci0fkobbi2ons1jderegpx FOREIGN KEY (project_id) REFERENCES public.projects(id);


--
-- Name: requirements fke61827acbj7u1id9aity4jf58; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.requirements
    ADD CONSTRAINT fke61827acbj7u1id9aity4jf58 FOREIGN KEY (sample_file_id) REFERENCES public.files(id);


--
-- Name: task_dependencies fkerlktvi2bud6uauih348u0loj; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task_dependencies
    ADD CONSTRAINT fkerlktvi2bud6uauih348u0loj FOREIGN KEY (task_id) REFERENCES public.tasks(id);


--
-- Name: organisation_specializations fkfe2sgxlpd70xtpnl06o20v94d; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.organisation_specializations
    ADD CONSTRAINT fkfe2sgxlpd70xtpnl06o20v94d FOREIGN KEY (organisation_id) REFERENCES public.organisations(id);


--
-- Name: chat_messages fkfgeihv06ejowtub1hmwmmrysl; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_messages
    ADD CONSTRAINT fkfgeihv06ejowtub1hmwmmrysl FOREIGN KEY (related_message_id) REFERENCES public.chat_messages(id);


--
-- Name: participants fkghixrahoj1s8cloinfx8lyeqa; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.participants
    ADD CONSTRAINT fkghixrahoj1s8cloinfx8lyeqa FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: chat_messages fkgiqeap8ays4lf684x7m0r2729; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_messages
    ADD CONSTRAINT fkgiqeap8ays4lf684x7m0r2729 FOREIGN KEY (sender_id) REFERENCES public.users(id);


--
-- Name: projects fkhswfwa3ga88vxv1pmboss6jhm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.projects
    ADD CONSTRAINT fkhswfwa3ga88vxv1pmboss6jhm FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: estimates fki1sa7fe1aek0vj0ffgsedo29r; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.estimates
    ADD CONSTRAINT fki1sa7fe1aek0vj0ffgsedo29r FOREIGN KEY (id) REFERENCES public.documents(id);


--
-- Name: projects fkj92bbqmi1dw9xdlk1t0eiyihr; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.projects
    ADD CONSTRAINT fkj92bbqmi1dw9xdlk1t0eiyihr FOREIGN KEY (city_id) REFERENCES public.cities(id);


--
-- Name: files fkjr0eoqnlknqbqpq6in1780n57; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.files
    ADD CONSTRAINT fkjr0eoqnlknqbqpq6in1780n57 FOREIGN KEY (schedule_id) REFERENCES public.tasks(id);


--
-- Name: task_responsible_persons fkjud7yncpg7q3ti9v5q00y3ujp; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task_responsible_persons
    ADD CONSTRAINT fkjud7yncpg7q3ti9v5q00y3ujp FOREIGN KEY (task_id) REFERENCES public.tasks(id);


--
-- Name: tasks fkk0qqb3jrxpdgjhqcoxilrusxh; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tasks
    ADD CONSTRAINT fkk0qqb3jrxpdgjhqcoxilrusxh FOREIGN KEY (stage_id) REFERENCES public.stages(id);


--
-- Name: requirements fkld77tixpf1ssn1ip5mj7wx0s5; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.requirements
    ADD CONSTRAINT fkld77tixpf1ssn1ip5mj7wx0s5 FOREIGN KEY (task_id) REFERENCES public.tasks(id);


--
-- Name: users fkn36jwt4acj3il2ixvv2c0ncco; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT fkn36jwt4acj3il2ixvv2c0ncco FOREIGN KEY (city_id) REFERENCES public.cities(id);


--
-- Name: documents fkn3yorpjknmi88ikdmdrrkrp0g; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.documents
    ADD CONSTRAINT fkn3yorpjknmi88ikdmdrrkrp0g FOREIGN KEY (project_id) REFERENCES public.projects(id);


--
-- Name: task_dependencies fkn6qipbhgl3vk43xnf30han7mp; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task_dependencies
    ADD CONSTRAINT fkn6qipbhgl3vk43xnf30han7mp FOREIGN KEY (depends_on_task_id) REFERENCES public.tasks(id);


--
-- Name: project_notes fkna9vk66hrs0o59p78q3dml2ch; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.project_notes
    ADD CONSTRAINT fkna9vk66hrs0o59p78q3dml2ch FOREIGN KEY (author_id) REFERENCES public.users(id);


--
-- Name: files fkncpjdlvw4479eu6qnh5a4fo9t; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.files
    ADD CONSTRAINT fkncpjdlvw4479eu6qnh5a4fo9t FOREIGN KEY (project_id) REFERENCES public.projects(id);


--
-- Name: participant_invitations fknehftrcpc2ju4ovpk6h20d3nl; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.participant_invitations
    ADD CONSTRAINT fknehftrcpc2ju4ovpk6h20d3nl FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: conversations fkob30xdhudq696qdn4sei6a8p8; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.conversations
    ADD CONSTRAINT fkob30xdhudq696qdn4sei6a8p8 FOREIGN KEY (project_id) REFERENCES public.projects(id);


--
-- Name: participants fkoxosjp7kqjcbrexntfjj88w1j; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.participants
    ADD CONSTRAINT fkoxosjp7kqjcbrexntfjj88w1j FOREIGN KEY (project_id) REFERENCES public.projects(id);


--
-- Name: chat_messages fkp987frops6xouq58epggck0q4; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_messages
    ADD CONSTRAINT fkp987frops6xouq58epggck0q4 FOREIGN KEY (attached_file_id) REFERENCES public.files(id);


--
-- Name: files fkq1bn0l66rmk4bxqci351t94hs; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.files
    ADD CONSTRAINT fkq1bn0l66rmk4bxqci351t94hs FOREIGN KEY (schedule_id) REFERENCES public.schedules(id);


--
-- Name: notifications fkqqnsjxlwleyjbxlmm213jaj3f; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifications
    ADD CONSTRAINT fkqqnsjxlwleyjbxlmm213jaj3f FOREIGN KEY (recipient_id) REFERENCES public.users(id);


--
-- Name: chat_message_mentions fkre9t6mje5qwiwfs20fuiqai9u; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.chat_message_mentions
    ADD CONSTRAINT fkre9t6mje5qwiwfs20fuiqai9u FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: conversation_participants fksj6frbk1w0urocy3snj9tk01i; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.conversation_participants
    ADD CONSTRAINT fksj6frbk1w0urocy3snj9tk01i FOREIGN KEY (participant_id) REFERENCES public.users(id);


--
-- Name: files fksyob75o8ditcnjt6ceo4ni97k; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.files
    ADD CONSTRAINT fksyob75o8ditcnjt6ceo4ni97k FOREIGN KEY (organisation_id) REFERENCES public.organisations(id);


--
-- Name: project_notes fktjdjq4rid4oi29uvs0sb2x9si; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.project_notes
    ADD CONSTRAINT fktjdjq4rid4oi29uvs0sb2x9si FOREIGN KEY (project_id) REFERENCES public.projects(id);


--
-- Name: files fkyxr6yly4wf6ansn30n5qu1tj; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.files
    ADD CONSTRAINT fkyxr6yly4wf6ansn30n5qu1tj FOREIGN KEY (document_id) REFERENCES public.documents(id);


--
-- PostgreSQL database dump complete
--

